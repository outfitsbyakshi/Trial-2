<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Outfits by Akshi</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: Roboto, sans-serif;
      background-color: #fdf4f0;
      margin: 0;
      padding: 0;
    }
      /* Header */
    header {
      background-color: white;
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid #ddd;
    }
    header h1 {
      font-family: 'Pacifico'; cursive
      margin: 0;
      font-size: 22px;
      font-weight: bold;
    }
    nav a {
      margin-left: 15px;
      text-decoration: none;
      color: black;
      font-weight: bold;
    }
    .container {
      padding: 2rem;
    }
    .product {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      background-color: #fff;
      padding: 1rem;
      margin-bottom: 2rem;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    .product img {
      max-width: 300px;
      width: 100%;
      border-radius: 10px;
      margin-right: 2rem;
    }
    .product-info {
      flex: 1;
    }
    .product-info h2 {
      margin: 0 0 0.5rem 0;
    }
    .product-info p {
      margin: 0.5rem 0;
    }
    .order-btn {
      display: inline-block;
      padding: 0.75rem 1.5rem;
      background-color: #000;
      color: #fff;
      text-decoration: none;
      border-radius: 5px;
      margin-top: 1rem;
    }
    footer {
      background-color: #000;
      color: #fff;
      text-align: center;
      padding: 1rem;
    }
    .btn-white {
      padding: 1rem 2rem;
      font-size: 1rem;
      background-color: white;
      color: black;
      border: 2px solid black;
      border-radius: 5px;
      cursor: pointer;
    }
    .btn-black {
      padding: 1rem 2rem;
      font-size: 1rem;
      background-color: white;
      color: black;
      border: 2px slid black;
      border-radius: 5px;
      cursor: pointer;
    }
    /* Toast Notification */
    #toast {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #333;
      color: #fff;
      padding: 12px 20px;
      border-radius: 8px;
      display: none;
      font-size: 14px;
      z-index: 9999;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      animation: fadeInOut 3s forwards;
    }

    @keyframes fadeInOut {
      0% { opacity: 0; transform: translateY(20px); }
      10% { opacity: 1; transform: translateY(0); }
      90% { opacity: 1; }
      100% { opacity: 0; transform: translateY(20px); }
    }
        /* Cart Panel */
   .cart-panel {
  position: fixed;
  top: 0;
  right: -400px;   /* hide it completely (same as width) */
  width: 400px;
  height: 100%;
  background: #fff;
  transition: right 0.3s ease;
  z-index: 999;
  box-shadow: -2px 0 5px rgba(0,0,0,0.3); /* shadow only when visible */
  border-left: 1px solid #ddd;            /* border only when visible */
  overflow: hidden;
}

.cart-panel.active {
  right: 0;  /* slide into view */
}
    .cart-frame {
      width: 100%;
      height: 100%;
      border: none;
    }
    .close-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: none;
      border: none;
      font-size: 20px;
      cursor: pointer;
      z-index: 1000;
    }

    /* Page sections */
    .banner img { width: 100%; }
    .categories, .products { padding: 40px 20px; }
    .category-grid, .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
    }
    .card {
      background: white;
      padding: 15px;
      border-radius: 10px;
      text-align: center;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .card img {
      width: 100%;
      height: 250px;
      object-fit: cover;
      border-radius: 6px;
      margin-bottom: 10px;
    }
    .cart-panel iframe {
  width: 100%;
  height: 100%;
  border: none;   /* removes iframe border */
  display: block; /* avoids gaps */
}

.cart-panel {
  border: none;      /* ensures no outline */
  outline: none;
  background: white; /* clean background */
}
.cart {
  position: relative;
  display: inline-block;
  font-size: 22px; /* adjust size to match your design */
  text-decoration: none;
  color: inherit;
}

.cart-badge {
  position: absolute;
  top: -8px;
  right: -10px;
  background: black;
  color: white;
  font-size: 14px;
  font-weight: bold;
  border-radius: 50%;
  padding: 2px 6px;
  display: none; /* hidden when 0 */
}
  </style>
</head>
<body>
  <header>
    <div>
      <h1>Outfits By Akshi</h1>
      <p>Curated By You, For You</p>
    </div>
    <nav>
            <a href="index.html">Home</a>
<a href="javascript:void(0)" onclick="openCart()" class="cart">
  ðŸ›’
  <span id="cart-count" class="cart-badge">0</span>
</a>
    </nav>
    <!-- Cart Panel -->
    <div id="cartPanel" class="cart-panel">
      <button class="close-btn" onclick="closeCart()">âœ–</button>
      <iframe src="cart.html" class="cart-frame"></iframe>
    </div>
  </header>

 <div class="container">
    <!-- Product with auto cart data -->
    <div class="product" 
         data-name="Crochet top 1" 
         data-price="60" 
         data-image="https://i.ibb.co/zVS3x4pN/IMG-20250823-WA0002.jpg">
      
      <img src="https://i.ibb.co/zVS3x4pN/IMG-20250823-WA0002.jpg" alt="Crochet top 1">
  
      <div class="product-info">
        <h2>Crochet top 1</h2>
        <p>Lovingly handmade, this crochet cardigan brings timeless charm with a modern twist. Featuring a soft cream open-knit design and delicate black contrast trim, itâ€™s finished with a dainty tie-front closure for a feminine touch. The cropped fit makes it perfect for layering over casual outfits or styling up for a chic, effortless look.

âœ¨ Details:

100% handmade with care

Color: Cream with black trim

Cropped length

Tie-front closure

Long sleeves with ruffled edges

Lightweight, breathable yarn


Each piece is unique, making it a special addition to your wardrobe.
</p>
        <p><strong>Price:</strong> $60</p>

        <label for="size">Select Size:</label>
        <select id="size">
          <option value="XS">XS</option>
          <option value="S">S</option>
          <option value="M">M</option>
          <option value="L">L</option>
          <option value="XL">XL</option>
        </select>

        <br><br>
        <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
          <button class="btn-white add-to-cart">Add to Cart</button>
          <button class="btn-black buy-now">Buy Now</button>
        </div>
      </div>
    </div>
  </div>
  
<div id="toast"></div>
  <footer>
    <p>Follow us on Instagram @yourbrand | Worldwide Shipping</p>
  </footer>

<script>
  // Show toast function
  function showToast(message) {
    let toast = document.getElementById("toast");
    toast.innerText = message;
    toast.style.display = "block";

    // hide after 3s
    setTimeout(() => {
      toast.style.display = "none";
    }, 3000);
  }

// Add to Cart - auto pulls product info
document.querySelectorAll('.add-to-cart').forEach(button => {
  button.addEventListener('click', function() {
    let product = this.closest('.product');
    let name = product.getAttribute('data-name');
    let price = parseFloat(product.getAttribute('data-price'));
    let image = product.getAttribute('data-image');
    let size = document.getElementById("size").value;

    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    cart.push({ name, price, image, size });
    localStorage.setItem('cart', JSON.stringify(cart));
    // âœ… Listen for cart updates triggered from Cart.html
window.addEventListener("storage", function (event) {
  if (event.key === "cart" || event.type === "storage") {
    updateCartCount();
  }
});

    // âœ… update badge
    updateCartCount();

    // âœ… if we're already on cart.html (via iframe), re-render instantly
    try {
      let cartFrame = document.querySelector(".cart-frame");
      if (cartFrame && cartFrame.contentWindow.renderCart) {
        cartFrame.contentWindow.renderCart();
      }
    } catch (e) {
      console.warn("Cart iframe not accessible yet:", e);
    }

    // âœ… notify other open tabs/pages
    window.dispatchEvent(new StorageEvent("storage", { key: "cart" }));

    // show toast
    showToast(name + ' added to cart!');
  });
});

  // Buy Now - goes to checkout.html
  document.querySelectorAll('.buy-now').forEach(button => {
    button.addEventListener('click', function() {
      let product = this.closest('.product');
      let name = product.getAttribute('data-name');
      let price = parseFloat(product.getAttribute('data-price'));
      let image = product.getAttribute('data-image');
      let size = document.getElementById("size").value;

      // Save the single product to localStorage for checkout
      let checkoutItem = [{ name, price, image, size }];
      localStorage.setItem('checkoutItem', JSON.stringify(checkoutItem));

      // Mark checkout type
      localStorage.setItem('checkoutType', 'buynow');

      // Redirect to checkout page
      window.location.href = "BuyNow.html";
    });
  });

  // Update cart badge
  function updateCartCount() {
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    const badge = document.getElementById("cart-count");
    if (badge) {
      if (cart.length > 0) {
        badge.style.display = "inline-block";
        badge.textContent = cart.length;
      } else {
        badge.style.display = "none";
      }
    }
  }

  // Cart panel open/close
  function openCart() {
    document.getElementById("cartPanel").classList.add("active");
  }
  function closeCart() {
    document.getElementById("cartPanel").classList.remove("active");
  }

  // Load badge count on page load
  document.addEventListener("DOMContentLoaded", updateCartCount);
</script>
</body>
</html>
